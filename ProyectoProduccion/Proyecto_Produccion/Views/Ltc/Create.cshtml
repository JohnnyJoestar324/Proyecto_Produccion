@model List<Proyecto_Produccion.Models.Ltc>

@{
    ViewData["Title"] = "Crear LTC";
}

<h1>Crear LTC</h1>
<head>
    <title>LTC Calculator</title>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 8px;
        }

        th {
            background-color: #f2f2f2;
        }

        .highlight-row {
            background-color: yellow;
        }
    </style>
</head>

<form asp-action="Create">
    <div class="form-group">
        <label>Número de Períodos:</label>
        <input type="number" name="numeroPeriodos" required />
    </div>
    <div class="form-group">
        <label>Requerimientos Brutos (separados por comas):</label>
        <input type="text" name="requerimientosBrutos" required />
    </div>
    <div class="form-group">
        <label>Costo de Ordenar:</label>
        <input type="number" step="0.01" name="costoOrdenar" required />
    </div>
    <div class="form-group">
        <label>Costo de Mantenimiento:</label>
        <input type="number" step="0.01" name="costoMantenimiento" required />
    </div>
    <button type="submit" class="btn btn-primary">Calcular LTC</button>
</form>

@if (Model != null && Model.Count > 0)
{
    <h2>Resultados LTC:</h2>
    <table class="table">
        <thead>
            <tr>
                <th>Período</th>
                <th>Unidades</th>
                <th>Períodos Mantenidos</th>
                <th>Costo de Mantenimiento</th>
                <th>Costo de Mantenimiento Acumulado</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr class ="@(item.CostoMantenimientoAcumulado > ViewBag.CostoOrdenar ? "highlight-row" : "")">
                    <td>@item.Periodo</td>
                    <td>@item.Unidades</td>
                    <td>@item.PeridodosMantenidos</td>
                    <td>@item.CostoMantenimiento.ToString("C")</td>
                    <td>@item.CostoMantenimientoAcumulado.ToString("C")</td>
                </tr>
            }
        </tbody>
    </table>
}
